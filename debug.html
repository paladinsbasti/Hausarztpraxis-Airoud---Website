<!DOCTYPE html>
<html>
<head>
    <title>Element Selector Test</title>
</head>
<body>
    <h1>Element Selector Test</h1>
    <div id="test-results"></div>
    <button onclick="testMain()">Test Main Page Elements</button>
    
    <script>
    async function testMain() {
        // Open main page in new window/tab and test selectors
        const mainWindow = window.open('/', '_blank');
        
        // Wait for the page to load
        mainWindow.onload = function() {
            setTimeout(() => {
                const doc = mainWindow.document;
                const results = document.getElementById('test-results');
                
                let html = '<h2>Element Selector Test Results:</h2>';
                
                // Test services section
                const servicesSection = doc.getElementById('services');
                html += `<p>Services Section: ${servicesSection ? '✅ Found' : '❌ Not found'}</p>`;
                
                if (servicesSection) {
                    const servicesTitle = servicesSection.querySelector('h2[data-translate="services.title"]');
                    html += `<p>Services Title Element: ${servicesTitle ? '✅ Found' : '❌ Not found'}</p>`;
                    if (servicesTitle) {
                        html += `<p>Services Title Text: "${servicesTitle.textContent}"</p>`;
                    }
                    
                    const servicesSubtitle = servicesSection.querySelector('p[data-translate="services.subtitle"]');
                    html += `<p>Services Subtitle Element: ${servicesSubtitle ? '✅ Found' : '❌ Not found'}</p>`;
                }
                
                // Test about section
                const aboutSection = doc.getElementById('about');
                html += `<p>About Section: ${aboutSection ? '✅ Found' : '❌ Not found'}</p>`;
                
                if (aboutSection) {
                    const aboutTitle = aboutSection.querySelector('h2[data-translate="about.title"]');
                    html += `<p>About Title Element: ${aboutTitle ? '✅ Found' : '❌ Not found'}</p>`;
                }
                
                // Test contact section
                const contactSection = doc.getElementById('contact');
                html += `<p>Contact Section: ${contactSection ? '✅ Found' : '❌ Not found'}</p>`;
                
                if (contactSection) {
                    const contactTitle = contactSection.querySelector('h2[data-translate="contact.title"]');
                    html += `<p>Contact Title Element: ${contactTitle ? '✅ Found' : '❌ Not found'}</p>`;
                    
                    const emailItem = contactSection.querySelector('.info-item i.fa-envelope');
                    html += `<p>Email Icon: ${emailItem ? '✅ Found' : '❌ Not found'}</p>`;
                    
                    if (emailItem) {
                        const emailInfoItem = emailItem.closest('.info-item');
                        html += `<p>Email Info Item: ${emailInfoItem ? '✅ Found' : '❌ Not found'}</p>`;
                        
                        if (emailInfoItem) {
                            const emailLink = emailInfoItem.querySelector('a[href^="mailto:"]');
                            html += `<p>Email Link: ${emailLink ? '✅ Found' : '❌ Not found'}</p>`;
                            if (emailLink) {
                                html += `<p>Email Link Text: "${emailLink.textContent}"</p>`;
                                html += `<p>Email Link Href: "${emailLink.href}"</p>`;
                            }
                        }
                    }
                }
                
                // Test if CMS content is available in main window
                if (mainWindow.cmsContent) {
                    html += '<h3>CMS Content in Main Window:</h3>';
                    html += `<p>Services Title from CMS: "${mainWindow.cmsContent.services.title}"</p>`;
                    html += `<p>Contact Email from CMS: "${mainWindow.cmsContent.contact.emailValue}"</p>`;
                } else {
                    html += '<p>❌ CMS Content not available in main window</p>';
                }
                
                results.innerHTML = html;
            }, 2000); // Wait 2 seconds for everything to load
        };
    }
    </script>
</body>
</html>
